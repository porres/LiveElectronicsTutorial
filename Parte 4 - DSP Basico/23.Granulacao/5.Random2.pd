#N canvas 110 51 1214 715 10;
#X obj 824 391 bng 20 250 50 0 empty empty empty 17 7 0 10 -241326
-1 -1;
#N canvas 790 22 443 326 sampler 0;
#X obj 253 242 table \$0-buffer;
#X obj 149 243 soundfiler;
#X obj 149 185 list append \$0-buffer;
#X obj 51 72 openpanel;
#X obj 51 95 list append \$0-buffer;
#X msg 51 119 read -resize \$1 \$2;
#X obj 209 69 loadbang;
#X obj 51 41 inlet;
#X msg 209 116 \; pd dsp 1;
#X msg 149 214 read -resize ../../samples/bubul.wav \$1;
#X connect 2 0 9 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 6 0 8 0;
#X connect 6 0 2 0;
#X connect 7 0 3 0;
#X connect 9 0 1 0;
#X restore 824 417 pd sampler;
#X obj 318 265 phasor~;
#X floatatom 369 164 5 0 0 0 - - -;
#X obj 372 139 hsl 128 15 1 100 1 0 empty freq-amp empty -2 -8 0 10
-203904 -1 -1 3823 1;
#X floatatom 404 218 5 0 0 0 - - -;
#X text 408 164 amplitude;
#X floatatom 318 125 5 0 0 0 - - -;
#X obj 321 100 hsl 128 15 0.01 10 1 0 empty lfo-freq empty -2 -8 0
10 -260097 -1 -1 7192 1;
#X obj 407 196 hsl 128 15 1 100 1 0 empty freq-offset empty -2 -8 0
10 -4032 -1 -1 1912 1;
#X obj 239 560 *~;
#X obj 344 448 tgl 30 0 empty empty empty 17 7 0 10 -262130 -1 -1 1
1;
#X obj 344 495 metro;
#X obj 254 533 ead~ 50 50;
#X text 151 213 grão (ms);
#X text 22 214 posição (ms);
#X text 22 273 posição (amostras);
#X text 151 272 grão (amostras);
#X obj 66 130 *~;
#X obj 66 160 +~;
#X obj 177 123 *~;
#X obj 177 153 +~;
#X obj 177 86 noise~;
#X obj 66 188 +~;
#X obj 177 189 +~;
#X text 208 171 offset;
#X obj 66 93 noise~;
#X obj 215 126 nbx 5 14 -1e+37 1e+37 0 0 empty grao-amp empty 0 -8
0 10 -262130 -1 -1 500 256;
#X obj 212 190 nbx 5 14 -1e+37 1e+37 0 0 empty grao-offset empty 0
-8 0 10 -261682 -1 -1 100 256;
#X text 225 106 amp;
#X text 100 168 offset;
#X obj 104 126 nbx 5 14 -1e+37 1e+37 0 0 empty pos-amp empty 0 -8 0
10 -262130 -1 -1 10000 256;
#X obj 104 187 nbx 5 14 -1e+37 1e+37 0 0 empty pos-offset empty 0 -8
0 10 -261682 -1 -1 0 256;
#X text 114 106 amp;
#X obj 215 146 / 2;
#X obj 104 146 / 2;
#X obj 344 422 loadbang;
#X obj 318 159 osc~;
#X obj 318 187 *~;
#X obj 318 238 +~;
#X text 443 218 offset;
#X obj 825 489 loadbang;
#X msg 825 512 \; lfo-freq 0.5 \; freq-amp 4 \; freq-offset 2 \; grao-amp
500 \; grao-offset 100 \; pos-amp 10000 \; pos-offset 0;
#X obj 66 235 mstosamps~;
#X obj 177 238 mstosamps~;
#X obj 403 616 output~;
#X obj 953 262 phasor~;
#X floatatom 1004 161 5 0 0 0 - - -;
#X obj 1007 136 hsl 128 15 1 100 1 0 empty freq-amp empty -2 -8 0 10
-203904 -1 -1 3823 1;
#X floatatom 1039 215 5 0 0 0 - - -;
#X text 1043 161 amplitude;
#X floatatom 953 122 5 0 0 0 - - -;
#X obj 956 97 hsl 128 15 0.01 10 1 0 empty lfo-freq empty -2 -8 0 10
-260097 -1 -1 7192 1;
#X obj 1042 193 hsl 128 15 1 100 1 0 empty freq-offset empty -2 -8
0 10 -4032 -1 -1 1912 1;
#X text 786 210 grão (ms);
#X text 657 211 posição (ms);
#X text 657 270 posição (amostras);
#X text 786 269 grão (amostras);
#X obj 701 127 *~;
#X obj 701 157 +~;
#X obj 812 120 *~;
#X obj 812 150 +~;
#X obj 812 83 noise~;
#X obj 701 185 +~;
#X obj 812 186 +~;
#X text 843 168 offset;
#X obj 701 90 noise~;
#X obj 850 123 nbx 5 14 -1e+37 1e+37 0 0 empty grao-amp empty 0 -8
0 10 -262130 -1 -1 500 256;
#X obj 847 187 nbx 5 14 -1e+37 1e+37 0 0 empty grao-offset empty 0
-8 0 10 -261682 -1 -1 100 256;
#X text 860 103 amp;
#X text 735 165 offset;
#X obj 739 123 nbx 5 14 -1e+37 1e+37 0 0 empty pos-amp empty 0 -8 0
10 -262130 -1 -1 10000 256;
#X obj 739 184 nbx 5 14 -1e+37 1e+37 0 0 empty pos-offset empty 0 -8
0 10 -261682 -1 -1 0 256;
#X text 749 103 amp;
#X obj 850 143 / 2;
#X obj 739 143 / 2;
#X obj 953 156 osc~;
#X obj 953 184 *~;
#X obj 953 235 +~;
#X obj 701 232 mstosamps~;
#X obj 812 235 mstosamps~;
#X obj 66 294 s~ \$0-pos_L;
#X obj 177 293 s~ \$0-grain_L;
#X obj 318 291 s~ \$0-fase_L;
#X obj 701 291 s~ \$0-pos_R;
#X obj 812 290 s~ \$0-grain_R;
#X obj 953 288 s~ \$0-fase_R;
#X obj 502 522 *~;
#X obj 597 411 tgl 30 0 empty empty empty 17 7 0 10 -262130 -1 -1 1
1;
#X obj 597 458 metro;
#X obj 517 495 ead~ 50 50;
#X obj 597 385 loadbang;
#X text 100 18 Como uma variação do exemplo anterio temos agora o sinal
de fase sendo controlado por um LFO. Ao final temos também um envelope
sendo disparado por um metrônomo.;
#X text 680 17 Por fim \, temos a cópia de todo o patch em outro canal
\, crianso uma versão em estéreo. Tente parâmetros diferentes para
cada canal. Divirta-se;
#X obj 597 484 expr random(100 \, 350);
#X obj 344 521 expr random(100 \, 350);
#X obj 196 519 +~;
#N canvas 142 27 469 503 grao_1 0;
#X obj 214 406 *~;
#X obj 229 355 /~ 2;
#X obj 229 379 sin~;
#X obj 59 238 *~;
#X obj 101 235 sah~;
#X obj 90 324 +~;
#X obj 111 300 sah~;
#X obj 242 205 fexpr~ abs($x1[0] - $x1[-1]) > 0.5;
#X obj 90 356 tabread4~ \$0-buffer;
#X obj 156 71 inlet~;
#X text 159 42 Fase;
#X obj 214 443 outlet~;
#X text 279 225 transforma em impulso;
#X obj 101 202 r~ \$0-grain_L;
#X obj 85 264 r~ \$0-pos_L;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 0 1;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 8 0;
#X connect 6 0 5 1;
#X connect 7 0 4 1;
#X connect 7 0 6 1;
#X connect 8 0 0 0;
#X connect 9 0 3 0;
#X connect 9 0 7 0;
#X connect 9 0 1 0;
#X connect 13 0 4 0;
#X connect 14 0 6 0;
#X restore 195 484 pd grao_1;
#N canvas 142 27 531 519 grao_2 0;
#X text 162 10 Fase;
#X obj 155 59 +~ 0.5;
#X obj 155 33 inlet~;
#X obj 213 424 *~;
#X obj 228 373 /~ 2;
#X obj 228 397 sin~;
#X obj 58 256 *~;
#X obj 100 253 sah~;
#X obj 89 342 +~;
#X obj 110 318 sah~;
#X obj 241 223 fexpr~ abs($x1[0] - $x1[-1]) > 0.5;
#X obj 89 374 tabread4~ \$0-buffer;
#X obj 213 461 outlet~;
#X text 278 243 transforma em impulso;
#X obj 100 220 r~ \$0-grain_L;
#X obj 84 282 r~ \$0-pos_L;
#X obj 155 89 wrap~;
#X connect 1 0 16 0;
#X connect 2 0 1 0;
#X connect 3 0 12 0;
#X connect 4 0 5 0;
#X connect 5 0 3 1;
#X connect 6 0 8 0;
#X connect 7 0 6 1;
#X connect 8 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 7 1;
#X connect 10 0 9 1;
#X connect 11 0 3 0;
#X connect 14 0 7 0;
#X connect 15 0 9 0;
#X connect 16 0 6 0;
#X connect 16 0 10 0;
#X connect 16 0 4 0;
#X restore 270 481 pd grao_2;
#X obj 195 447 r~ \$0-fase_L;
#X obj 476 484 +~;
#N canvas 142 27 491 478 grao_1 0;
#X obj 214 406 *~;
#X obj 229 355 /~ 2;
#X obj 229 379 sin~;
#X obj 59 238 *~;
#X obj 101 228 sah~;
#X obj 90 324 +~;
#X obj 111 300 sah~;
#X obj 242 198 fexpr~ abs($x1[0] - $x1[-1]) > 0.5;
#X obj 90 356 tabread4~ \$0-buffer;
#X obj 164 70 inlet~;
#X text 167 41 Fase;
#X obj 214 443 outlet~;
#X text 279 218 transforma em impulso;
#X obj 101 195 r~ \$0-grain_R;
#X obj 85 257 r~ \$0-pos_R;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 0 1;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 8 0;
#X connect 6 0 5 1;
#X connect 7 0 4 1;
#X connect 7 0 6 1;
#X connect 8 0 0 0;
#X connect 9 0 3 0;
#X connect 9 0 7 0;
#X connect 9 0 1 0;
#X connect 13 0 4 0;
#X connect 14 0 6 0;
#X restore 443 447 pd grao_1;
#N canvas 142 27 604 648 grao_2 0;
#X text 162 10 Fase;
#X obj 155 59 +~ 0.5;
#X obj 155 33 inlet~;
#X obj 205 427 *~;
#X obj 220 376 /~ 2;
#X obj 220 400 sin~;
#X obj 50 259 *~;
#X obj 92 249 sah~;
#X obj 81 345 +~;
#X obj 102 321 sah~;
#X obj 233 219 fexpr~ abs($x1[0] - $x1[-1]) > 0.5;
#X obj 81 377 tabread4~ \$0-buffer;
#X obj 205 464 outlet~;
#X text 270 239 transforma em impulso;
#X obj 92 216 r~ \$0-grain_R;
#X obj 76 278 r~ \$0-pos_R;
#X obj 155 91 wrap~;
#X connect 1 0 16 0;
#X connect 2 0 1 0;
#X connect 3 0 12 0;
#X connect 4 0 5 0;
#X connect 5 0 3 1;
#X connect 6 0 8 0;
#X connect 7 0 6 1;
#X connect 8 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 7 1;
#X connect 10 0 9 1;
#X connect 11 0 3 0;
#X connect 14 0 7 0;
#X connect 15 0 9 0;
#X connect 16 0 6 0;
#X connect 16 0 10 0;
#X connect 16 0 4 0;
#X restore 518 444 pd grao_2;
#X obj 443 410 r~ \$0-fase_R;
#X connect 0 0 1 0;
#X connect 2 0 83 0;
#X connect 3 0 38 1;
#X connect 4 0 3 0;
#X connect 5 0 39 1;
#X connect 7 0 37 0;
#X connect 8 0 7 0;
#X connect 9 0 5 0;
#X connect 10 0 45 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 12 0 95 0;
#X connect 13 0 10 1;
#X connect 18 0 19 0;
#X connect 19 0 23 0;
#X connect 20 0 21 0;
#X connect 21 0 24 0;
#X connect 22 0 20 0;
#X connect 23 0 43 0;
#X connect 24 0 44 0;
#X connect 26 0 18 0;
#X connect 27 0 34 0;
#X connect 28 0 24 1;
#X connect 31 0 35 0;
#X connect 32 0 23 1;
#X connect 34 0 21 1;
#X connect 34 0 20 1;
#X connect 35 0 19 1;
#X connect 35 0 18 1;
#X connect 36 0 11 0;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 39 0 2 0;
#X connect 41 0 42 0;
#X connect 43 0 81 0;
#X connect 44 0 82 0;
#X connect 46 0 86 0;
#X connect 47 0 77 1;
#X connect 48 0 47 0;
#X connect 49 0 78 1;
#X connect 51 0 76 0;
#X connect 52 0 51 0;
#X connect 53 0 49 0;
#X connect 58 0 59 0;
#X connect 59 0 63 0;
#X connect 60 0 61 0;
#X connect 61 0 64 0;
#X connect 62 0 60 0;
#X connect 63 0 79 0;
#X connect 64 0 80 0;
#X connect 66 0 58 0;
#X connect 67 0 74 0;
#X connect 68 0 64 1;
#X connect 71 0 75 0;
#X connect 72 0 63 1;
#X connect 74 0 61 1;
#X connect 74 0 60 1;
#X connect 75 0 59 1;
#X connect 75 0 58 1;
#X connect 76 0 77 0;
#X connect 77 0 78 0;
#X connect 78 0 46 0;
#X connect 79 0 84 0;
#X connect 80 0 85 0;
#X connect 87 0 45 1;
#X connect 88 0 89 0;
#X connect 89 0 90 0;
#X connect 89 0 94 0;
#X connect 90 0 87 1;
#X connect 91 0 88 0;
#X connect 94 0 89 1;
#X connect 95 0 12 1;
#X connect 96 0 10 0;
#X connect 97 0 96 0;
#X connect 98 0 96 1;
#X connect 99 0 97 0;
#X connect 99 0 98 0;
#X connect 100 0 87 0;
#X connect 101 0 100 0;
#X connect 102 0 100 1;
#X connect 103 0 101 0;
#X connect 103 0 102 0;
