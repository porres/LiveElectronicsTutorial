#N canvas 215 35 845 639 10;
#X obj 487 453 cnv 15 198 138 empty empty empty 20 12 0 14 -261682
-66577 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array Saw-width 441 float 1;
#A 0 -0.0432648 -0.028025 -0.0127837 0.00245905 0.0177033 0.0329491
0.0481963 0.063445 0.0786952 0.0939468 0.1092 0.124455 0.139711 0.154968
0.170227 0.185488 0.20075 0.216013 0.231278 0.246545 0.261813 0.277082
0.292353 0.307626 0.322899 0.338175 0.353452 0.36873 0.38401 0.399291
0.414574 0.429858 0.445145 0.460434 0.475724 0.491015 0.506308 0.521602
0.536898 0.552196 0.567495 0.582795 0.598097 0.613401 0.628706 0.644012
0.65932 0.67463 0.689941 0.705254 0.720568 0.735884 0.751201 0.766519
0.78184 0.797161 0.812485 0.827809 0.843136 0.858463 0.873793 0.889123
0.904456 0.919789 0.935125 0.950462 0.9658 0.98114 0.996481 0.901826
0.774532 0.64734 0.520254 0.393271 0.266393 0.139618 0.0129471 -0.113619
-0.240082 -0.366442 -0.492699 -0.618851 -0.744901 -0.870848 -0.996691
-0.985145 -0.969887 -0.954628 -0.939367 -0.924105 -0.908841 -0.893576
-0.878309 -0.863041 -0.847771 -0.8325 -0.817227 -0.801953 -0.786677
-0.7714 -0.756121 -0.74084 -0.725558 -0.710275 -0.69499 -0.679703 -0.664416
-0.649126 -0.633835 -0.618543 -0.603248 -0.587953 -0.572656 -0.557357
-0.542057 -0.526756 -0.511452 -0.496148 -0.480841 -0.465533 -0.450223
-0.434912 -0.419599 -0.404285 -0.388969 -0.373652 -0.358333 -0.343013
-0.327691 -0.312367 -0.297042 -0.281715 -0.266387 -0.251057 -0.235726
-0.220393 -0.205059 -0.189723 -0.174385 -0.159046 -0.143706 -0.128364
-0.11302 -0.0976749 -0.0823281 -0.0669798 -0.05163 -0.0362786 -0.0209256
-0.00557113 0.00978494 0.0251424 0.0405016 0.0558624 0.0712246 0.0865884
0.101954 0.117321 0.132689 0.148059 0.163431 0.178804 0.194178 0.209555
0.224933 0.240312 0.255693 0.271075 0.286459 0.301844 0.317232 0.33262
0.348011 0.363402 0.378796 0.39419 0.409587 0.424985 0.440384 0.455786
0.471188 0.486592 0.501998 0.517405 0.532814 0.548225 0.563637 0.57905
0.594465 0.609882 0.6253 0.64072 0.656141 0.671564 0.686989 0.702415
0.717842 0.733271 0.748702 0.764135 0.779568 0.795004 0.810441 0.825879
0.84132 0.856763 0.872208 0.887654 0.903102 0.918551 0.934002 0.949455
0.964909 0.980365 0.995822 0.912343 0.792303 0.672357 0.552507 0.432754
0.313095 0.193531 0.0740632 -0.0453089 -0.164587 -0.28377 -0.402857
-0.521851 -0.64075 -0.759555 -0.878265 -0.996881 -0.985034 -0.969663
-0.95429 -0.938916 -0.92354 -0.908162 -0.892783 -0.877402 -0.862019
-0.846635 -0.83125 -0.815863 -0.800474 -0.785083 -0.769691 -0.754298
-0.738903 -0.723506 -0.708108 -0.692708 -0.677307 -0.661904 -0.646499
-0.631093 -0.615685 -0.600276 -0.584864 -0.569452 -0.554038 -0.538622
-0.523205 -0.507786 -0.492365 -0.476943 -0.46152 -0.446094 -0.430668
-0.415239 -0.399809 -0.384377 -0.368944 -0.353509 -0.338073 -0.322635
-0.307195 -0.291754 -0.276311 -0.260867 -0.245421 -0.229974 -0.214525
-0.199074 -0.183622 -0.168168 -0.152712 -0.137255 -0.121796 -0.106336
-0.0908738 -0.0754096 -0.0599438 -0.0444763 -0.0290073 -0.0135366 0.00193572
0.0174096 0.0328851 0.0483623 0.063841 0.0793214 0.0948035 0.110287
0.125772 0.141259 0.156748 0.172238 0.18773 0.203223 0.218718 0.234215
0.249713 0.265213 0.280714 0.296217 0.311722 0.327228 0.342736 0.358246
0.373757 0.38927 0.404785 0.420301 0.435819 0.451338 0.466859 0.482382
0.497906 0.513432 0.528959 0.544488 0.560019 0.575552 0.591086 0.606621
0.622159 0.637698 0.653238 0.66878 0.684324 0.69987 0.715417 0.730965
0.746516 0.762068 0.777622 0.793177 0.808734 0.824292 0.839852 0.855414
0.870978 0.886542 0.902109 0.917677 0.933248 0.948819 0.964392 0.979967
0.995544 0.918989 0.805591 0.692278 0.579054 0.465915 0.352864 0.239897
0.127019 0.0142252 -0.0984822 -0.211104 -0.323638 -0.436088 -0.548453
-0.660731 -0.772924 -0.885033 -0.997055 -0.984919 -0.96943 -0.953939
-0.938446 -0.922951 -0.907455 -0.891957 -0.876457 -0.860956 -0.845453
-0.829949 -0.814443 -0.798935 -0.783425 -0.767914 -0.752402 -0.736887
-0.721371 -0.705853 -0.690334 -0.674813 -0.65929 -0.643766 -0.62824
-0.612712 -0.597183 -0.581652 -0.566119 -0.550585 -0.535049 -0.519511
-0.503972 -0.488431 -0.472888 -0.457344 -0.441798 -0.42625 -0.410701
-0.39515 -0.379597 -0.364043 -0.348487 -0.33293 -0.31737 -0.301809
-0.286247 -0.270683 -0.255117 -0.239549 -0.22398 -0.208409 -0.192836
-0.177262 -0.161686 -0.146109 -0.130529 -0.114948 -0.0993658 -0.0837816
-0.0681956 -0.0526081 -0.0370189;
#X coords 0 1.1 440 -1.1 200 140 1;
#X restore 486 452 graph;
#X text 472 447 1;
#X text 466 579 -1;
#X text 472 514 0;
#X obj 552 351 hsl 128 15 0 1 0 0 empty empty ganho -2 -6 0 10 -261682
-1 -1 0 0;
#N canvas 316 79 528 440 ganho 0;
#X obj 256 218 *~;
#X obj 244 250 dac~;
#X obj 285 188 line~;
#X msg 285 162 \$1 10;
#X obj 285 136 pow 4;
#X obj 285 109 inlet;
#X obj 256 78 inlet~;
#X obj 112 58 loadbang;
#X obj 121 106 metro 441;
#X obj 119 80 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 124 211 tabwrite~ Saw-width;
#X msg 43 119 \; pd dsp 1 \; Hz 300 \; mod 1;
#X connect 0 0 1 0;
#X connect 0 0 1 1;
#X connect 2 0 0 1;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 6 0 10 0;
#X connect 7 0 11 0;
#X connect 7 0 9 0;
#X connect 8 0 10 0;
#X connect 9 0 8 0;
#X restore 504 375 pd ganho;
#X obj 644 210 osc~ 0.1;
#X obj 644 184 nbx 5 14 -1e+37 1e+37 0 0 empty mod empty 0 -8 0 10
-204800 -1 -1 1 256;
#X obj 504 217 nbx 5 14 -1e+37 1e+37 0 0 empty Hz empty 0 -8 0 10 -261682
-1 -1 300 256;
#X obj 504 306 triangle~;
#X obj 644 236 *~ 0.5;
#X obj 644 263 +~ 0.5;
#X floatatom 713 238 5 0 0 0 - - -;
#X floatatom 714 264 5 0 0 0 - - -;
#X text 457 77 O inlet direito do [triangle~] recebe sinal de áudio
\, logo permite modulações a partir de osciladores. Os valores que
o inlet recebe vão de 0 a 1 \, portanto precisamos ajustar a amplitude
e o DC offset de um oscilador como abaixo \, para que os valores oscilem
entre 0 e 1!;
#X text 455 27 O conceito de PWM também se aplica a ondas dente-de-serra
\, que no caso possibilita modular a forma de onda entre dentes-de-sera
e triangulares.;
#X obj 504 240 phasor~;
#X obj 106 353 cnv 15 198 138 empty empty empty 20 12 0 14 -203904
-66577 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array Pulse-width 441 float 1;
#A 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1;
#X coords 0 1.1 440 -1.1 200 140 1;
#X restore 105 352 graph;
#X text 91 347 1;
#X text 85 479 -1;
#X text 91 414 0;
#X obj 130 260 hsl 128 15 0 1 0 0 empty empty ganho -2 -6 0 10 -203904
-1 -1 0 0;
#N canvas 316 79 399 336 ganho 0;
#X obj 256 218 *~;
#X obj 244 250 dac~;
#X obj 285 188 line~;
#X msg 285 162 \$1 10;
#X obj 285 136 pow 4;
#X obj 285 109 inlet;
#X obj 256 78 inlet~;
#X msg 23 119 \; pd dsp 1;
#X obj 92 58 loadbang;
#X obj 101 106 metro 441;
#X obj 99 80 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1 1
;
#X obj 104 211 tabwrite~ Pulse-width;
#X connect 0 0 1 0;
#X connect 0 0 1 1;
#X connect 2 0 0 1;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 6 0 11 0;
#X connect 8 0 7 0;
#X connect 8 0 10 0;
#X connect 9 0 11 0;
#X connect 10 0 9 0;
#X restore 82 284 pd ganho;
#X obj 271 146 osc~ 0.1;
#X obj 271 120 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-204800 -1 -1 0 256;
#X obj 82 126 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-203904 -1 -1 0 256;
#X text 45 41 Podemos modular o tamanho de pulso de uma onda quadrada
com um oscilador. A modulação de tamanho de pulso \, em inglês \, se
chama "Pulse Width Modulation" - ou apenas "PMW".;
#X floatatom 340 154 0 0 0 0 - - -;
#X obj 271 175 *~ 0.99;
#X obj 82 177 triangle~ 1;
#X obj 82 215 expr~ if ($v1 < $v2 \, 1 \, -1);
#X text 272 197 width;
#X obj 82 150 phasor~ 40;
#X text 48 525 Perceba que uma frequência de modulação alta \, acima
de 20Hz \, faz com que novos componentes espectrais sejam gerados.
Veremos em um próximo exemplo como isso se dá de uma forma similar
à modulação de frequência/fase. O mesmo acontece ao lado \, com a modulação
de onda tringular.;
#X connect 5 0 6 1;
#X connect 7 0 11 0;
#X connect 8 0 7 0;
#X connect 9 0 17 0;
#X connect 10 0 6 0;
#X connect 11 0 12 0;
#X connect 12 0 10 1;
#X connect 13 0 11 1;
#X connect 14 0 12 1;
#X connect 17 0 10 0;
#X connect 23 0 24 1;
#X connect 25 0 30 0;
#X connect 26 0 25 0;
#X connect 27 0 34 0;
#X connect 29 0 30 1;
#X connect 30 0 32 1;
#X connect 31 0 32 0;
#X connect 32 0 24 0;
#X connect 34 0 31 0;
